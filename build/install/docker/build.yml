version: "3.8"

services: 
  onlyoffice-backup-background-tasks:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: backup_background
    image: "${REPO}/${STATUS}appserver-backup-background:${DOCKER_TAG}"

  onlyoffice-clear-events:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: clear-events
    image: "${REPO}/${STATUS}appserver-clear-events:${DOCKER_TAG}"
  
  onlyoffice-migration:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: migration
    image: "${REPO}/${STATUS}appserver-migration:${DOCKER_TAG}"

  onlyoffice-backup:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: backup
    image: "${REPO}/${STATUS}appserver-backup:${DOCKER_TAG}"
  
  onlyoffice-files:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: files
    image: "${REPO}/${STATUS}appserver-files:${DOCKER_TAG}"

  onlyoffice-files-services:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: files_services
    image: "${REPO}/${STATUS}appserver-files-services:${DOCKER_TAG}"

  onlyoffice-notify:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: notify
    image: "${REPO}/${STATUS}appserver-notify:${DOCKER_TAG}"

  onlyoffice-people-server:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: people_server
    image: "${REPO}/${STATUS}appserver-people-server:${DOCKER_TAG}"

  onlyoffice-socket:
    build:
      context:  ./
      dockerfile: "${DOCKERFILE}"
      target: socket
    image: "${REPO}/${STATUS}appserver-socket:${DOCKER_TAG}"

  onlyoffice-studio-notify:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: studio_notify
    image: "${REPO}/${STATUS}appserver-studio-notify:${DOCKER_TAG}"
    
  onlyoffice-telegram-service:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: telegram_service
    image: "${REPO}/${STATUS}appserver-telegram-service:${DOCKER_TAG}"

  onlyoffice-urlshortener:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: urlshortener
    image: "${REPO}/${STATUS}appserver-urlshortener:${DOCKER_TAG}"
   
  onlyoffice-api:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: api
    image: "${REPO}/${STATUS}appserver-api:${DOCKER_TAG}"

  onlyoffice-studio:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: studio
    image: "${REPO}/${STATUS}appserver-studio:${DOCKER_TAG}"

  onlyoffice-ssoauth:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: ssoauth
    image: "${REPO}/${STATUS}appserver-ssoauth:${DOCKER_TAG}"

  onlyoffice-webhooks-service:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: webhooks-service
    image: "${REPO}/${STATUS}appserver-webhooks-service:${DOCKER_TAG}"
  
  onlyoffice-bin-share:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: bin_share
    image: "${REPO}/${STATUS}appserver-bin-share:${DOCKER_TAG}"

  onlyoffice-wait-bin-share:
    build:
      context: ./
      dockerfile: "${DOCKERFILE}"
      target: wait_bin_share
    image: "${REPO}/${STATUS}appserver-wait-bin-share:${DOCKER_TAG}"

  onlyoffice-doceditor:
    build:
      context:  ./
      dockerfile: "${DOCKERFILE}"
      target: doceditor
    image: "${REPO}/${STATUS}appserver-doceditor:${DOCKER_TAG}"

  onlyoffice-proxy:
    build:
      context:  ./
      dockerfile: "${DOCKERFILE}"
      target: proxy
    image: "${REPO}/${STATUS}appserver-proxy:${DOCKER_TAG}"

  onlyoffice-migration-runner:
    build:
      context:  ./
      dockerfile: "${DOCKERFILE}"
      target: onlyoffice-migration-runner
    image: "${REPO}/${STATUS}appserver-migration-runner:${DOCKER_TAG}"
